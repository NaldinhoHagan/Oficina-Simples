<%- include("../layout", { body: `
  <div class='d-flex justify-content-between align-items-center'>
    <h3 class='mb-0'><i class='bi bi-people me-2'></i>Clientes</h3>
    <div class='d-flex gap-2'>
      <form class='d-flex' method='get' action='/clients'>
        <input class='form-control form-control-sm' name='q' placeholder='Buscar cliente'>
        <button class='btn btn-sm btn-outline-secondary ms-2'>Buscar</button>
      </form>
      <a class='btn btn-primary' href='/clients/new'>Novo</a>
    </div>
  </div>

  <div class='card shadow-sm card-table mt-3'>
    <div class='table-responsive'>
      <table class='table table-hover mb-0'>
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Telefone</th>
            <th>Email</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          ${clients.map(c => `
            <tr>
              <td>${c.id}</td>
              <td><a href='/clients/${c.id}'>${c.name}</a></td>
              <td>${c.phone || "-"}</td>
              <td>${c.email || "-"}</td>
              <td class='d-flex gap-2'>
                <a class='btn btn-sm btn-outline-warning' href='/clients/${c.id}/edit'>
                  <i class='bi bi-pencil-square me-1'></i>Editar
                </a>
                <form method='post' action='/clients/${c.id}?_method=DELETE' onsubmit='return confirm("Excluir?")'>
                  <button class='btn btn-sm btn-outline-danger'>
                    <i class='bi bi-trash me-1'></i>Excluir
                  </button>
                </form>
              </td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div> <!-- fecha table-responsive -->
  </div> <!-- fecha card -->

  ${pagination ? `
    <nav class='mt-3'>
      <ul class='pagination'>
        ${Array.from({length: pagination.totalPages}, (_,i)=>{
          const p=i+1;
          const active = p===pagination.page ? "active" : "";
          return `<li class="page-item ${active}">
            <a class="page-link" href='?page=${p}'>${p}</a>
          </li>`;
        }).join('')}
      </ul>
    </nav>
  ` : ""}
` }) %>